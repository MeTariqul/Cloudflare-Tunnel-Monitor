{% extends "base.html" %}

{% block title %}Settings - Cloudflare Tunnel Monitor{% endblock %}

{% block content %}
<div class="settings">
    <h1><i class="fas fa-cog"></i> Settings</h1>
    
    <form id="settings-form" class="settings-form">
        <!-- WhatsApp Settings Section Removed -->
        
        <!-- Tunnel Settings Section -->
        <section class="settings-section">
            <h2><i class="fas fa-server"></i> Tunnel Settings</h2>
            
            <div class="form-group">
                <label for="tunnel_url">Tunnel URL:</label>
                <input type="text" id="tunnel_url" name="tunnel_url" value="{{ config.tunnel_url }}" required>
                <div class="help-text">Local service URL to expose (e.g., http://localhost:8080)</div>
            </div>
            

        </section>
        
        <!-- Browser Settings Section Removed -->
        
        <!-- Connection Settings Section -->
        <section class="settings-section">
            <h2><i class="fas fa-network-wired"></i> Connection Settings</h2>
            
            <div class="form-group">
                <label for="check_interval">Check Interval (seconds):</label>
                <input type="number" id="check_interval" name="check_interval" value="{{ config.check_interval }}" min="1" max="3600" required>
                <div class="help-text">How often to check internet connection</div>
            </div>
            
            <div class="form-group">
                <label for="max_retries">Maximum Retries:</label>
                <input type="number" id="max_retries" name="max_retries" value="{{ config.max_retries }}" min="1" max="100" required>
                <div class="help-text">Maximum number of retries when internet connection is lost</div>
            </div>
            
            <div class="form-group">
                <label for="retry_delay">Retry Delay (seconds):</label>
                <input type="number" id="retry_delay" name="retry_delay" value="{{ config.retry_delay }}" min="1" max="3600" required>
                <div class="help-text">Delay between retries (will be multiplied by retry count)</div>
            </div>
            
            <!-- Ping Test URL field removed - using 1.1.1.1 as permanent default -->
        </section>
        
        <!-- Advanced Settings Section -->
        <section class="settings-section">
            <h2><i class="fas fa-tools"></i> Advanced Settings</h2>
            
            <div class="form-group checkbox-group">
                <input type="checkbox" id="debug_mode" name="debug_mode" {% if config.debug_mode %}checked{% endif %}>
                <label for="debug_mode">Debug Mode</label>
                <div class="help-text">Enable detailed logging for troubleshooting</div>
            </div>
        </section>
        
        <!-- Submit Button -->
        <div class="form-actions">
            <button type="button" id="save-settings-button" class="btn btn-primary"><i class="fas fa-save"></i> Save Settings</button>
            <button type="button" id="reset-settings-button" class="btn btn-secondary"><i class="fas fa-undo"></i> Reset to Defaults</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/settings.js') }}"></script>
{% endblock %}